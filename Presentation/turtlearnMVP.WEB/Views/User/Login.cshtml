@model TurtLearn.Shared.Entities.Dtos.UserLoginDto;
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}



<div class="row my-4 align-items-center">
    <form id="LoginForm" method="post" onsubmit="return false" asp-controller="User" asp-action="Login" asp-validation-summary="All">

        <div class="row">
            <div class="mb-3 col-sm-12">
                @Html.TextBoxFor(m => m.Email, new { @class = "form-control", @placeholder = "Email" })
                @Html.ValidationMessageFor(m => m.Email)
            </div>
        </div>
        <div class="row">
            <div class="mb-3 col-sm-12">
                @Html.TextBoxFor(m => m.Password, new { @class = "form-control", @placeholder = "Şifre" })
                @Html.ValidationMessageFor(m => m.Password)
            </div>
        </div>
        <div class="row">
            <div class="mb-3 col-sm-1">
            </div>
            <div class="mb-3 col-sm-4">
                <label>
                    @Html.CheckBoxFor(m => m.RememberMe, new { @class = "custom-checkbox" })
                    Remeber Me
                    @Html.ValidationMessageFor(m => m.RememberMe)
                </label>
            </div>
        </div>

    </form>
    <div class="col-sm-2 d-grid">
    </div>
    <div class="col-sm-5">
        <ul class="list-unstyled d-flex mb-1 mt-sm-0 mt-3">
            <li class="me-1"><a class="text-dark" href="#"><b>I Forgot My Password</b></a></li>
        </ul>
    </div>
    <div class="col-sm-5">
        <button id="loginButton" class="btn btn-primary">Log In</button>
    </div>
</div>

<script type="text/javascript">

    $('#loginButton').on('click', function () {
        submitLoginForm();
    });

    function submitLoginForm() {
        var formData = $('#LoginForm').serialize();

        $.ajax({
            url: $('#LoginForm').attr('action'),
            type: 'POST',
            data: formData,
            success: function (data) {
                if (data != null) {
                    if (data.success) {
                window.alert(data.message);
                window.location.reload();
            } else {
                // Handle validation errors
                displayValidationErrors(data);
            }
                }
            },
            error: function (xhr, status, error) {
                window.alert("AJAX Request Error: " + status + " - " + error);
            }
        });
    }

</script>


@* Tokenle Girme

<div class="login-social-media border ps-4 pe-4 pb-4 pt-0 rounded-sm">
    <div class="mb-4 d-block text-center"><b class="bg-white ps-2 pe-2 mt-3 d-block">Login with</b></div>
    <div class="row">
    <div class="col-sm-6">
    <a class="btn facebook-bg social-bg-hover d-block mb-3" href="#"><span><i class="fab fa-facebook-f me-2"></i>Login with Facebook</span></a>
    </div>
    <div class="col-sm-6">
    <a class="btn twitter-bg social-bg-hover d-block mb-3" href="#"><span><i class="fab fa-twitter me-2"></i>Login with Twitter</span></a>
    </div>
    <div class="col-sm-6">
    <a class="btn instagram-bg social-bg-hover d-block mb-3 mb-sm-0" href="#"><span><i class="fab fa-instagram me-2"></i>Login with Instagram</span></a>
    </div>
    <div class="col-sm-6">
    <a class="btn linkedin-bg social-bg-hover d-block" href="#"><span><i class="fab fa-linkedin-in me-2"></i>Login with Linkedin</span></a>
    </div>
    </div>
    </div> *@
